<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>yfinhanced v0.1.11 &mdash; yfinhanced 0.1.11 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> yfinhanced
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">yfinhanced v0.1.11</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#api-documentation">API Documentation</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">yfinhanced</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>yfinhanced v0.1.11</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="yfinhanced-v0-1-11">
<h1>yfinhanced v0.1.11<a class="headerlink" href="#yfinhanced-v0-1-11" title="Permalink to this headline"></a></h1>
<p><strong>A simple asyncronous wrapper around the public yahoo finance API</strong></p>
<p>While the yahoo finance website is clunky and basic - underlying it is a very
powerful API that is primarily powered by refinitiv data. Many python packages
have attempted to implement wrappers around this API, however they fall short
for one of two reasons. Either they don’t expose all of the available endpoints
of the API, or they are syncronous / rely on threading which is less efficient
for IO bound tasks.</p>
<p><em>yfinhanced</em> attempts to solve both of these issues by providing access to the
full range of endpoints, and using pythons modern asyncronous support in
<em>asyncio</em> and <em>aiohttp</em>. As a result, this package is extremely fast and
feature complete.</p>
<p>You can find the full documentation at: <cite>https://me-64.github.io/yfinhanced</cite></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">yfinhanced</span> <span class="kn">import</span> <span class="n">YFClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yf</span> <span class="o">=</span> <span class="n">YFClient</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">await</span> <span class="n">yf</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quote</span> <span class="o">=</span> <span class="k">await</span> <span class="n">yf</span><span class="o">.</span><span class="n">get_quote</span><span class="p">([</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;BTC-USD&#39;</span><span class="p">,</span> <span class="s1">&#39;BYND220401C00030000&#39;</span><span class="p">,</span> <span class="s1">&#39;GC=F&#39;</span><span class="p">,</span> <span class="s1">&#39;AZN.L&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">quote</span><span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">])</span>
<span class="go">{&#39;language&#39;: &#39;en-US&#39;,</span>
<span class="go">&#39;region&#39;: &#39;US&#39;,</span>
<span class="go">&#39;quoteType&#39;: &#39;EQUITY&#39;,</span>
<span class="go">&#39;typeDisp&#39;: &#39;Equity&#39;,</span>
<span class="go">&#39;quoteSourceName&#39;: &#39;Nasdaq Real Time Price&#39;,</span>
<span class="go">&#39;triggerable&#39;: True,</span>
<span class="go">&#39;customPriceAlertConfidence&#39;: &#39;HIGH&#39;,</span>
<span class="go">&#39;currency&#39;: &#39;USD&#39;,</span>
<span class="go">&#39;exchange&#39;: &#39;NMS&#39;,</span>
<span class="go">&#39;shortName&#39;: &#39;Apple Inc.&#39;,</span>
<span class="go">&#39;longName&#39;: &#39;Apple Inc.&#39;,</span>
<span class="go">&#39;messageBoardId&#39;: &#39;finmb_24937&#39;,</span>
<span class="go">&#39;exchangeTimezoneName&#39;: &#39;America/New_York&#39;,</span>
<span class="go">&#39;exchangeTimezoneShortName&#39;: &#39;EDT&#39;,</span>
<span class="go">&#39;gmtOffSetMilliseconds&#39;: -14400000,</span>
<span class="go">&#39;market&#39;: &#39;us_market&#39;,</span>
<span class="go">&#39;esgPopulated&#39;: False,</span>
<span class="go">&#39;fullExchangeName&#39;: &#39;NasdaqGS&#39;,</span>
<span class="go">&#39;financialCurrency&#39;: &#39;USD&#39;,</span>
<span class="go">&#39;regularMarketOpen&#39;: 167.99,</span>
<span class="go">&#39;averageDailyVolume3Month&#39;: 93351350,</span>
<span class="go">&#39;averageDailyVolume10Day&#39;: 97387620,</span>
<span class="go">&#39;fiftyTwoWeekLowChange&#39;: 51.429993,</span>
<span class="go">&#39;fiftyTwoWeekLowChangePercent&#39;: 0.43269387,</span>
<span class="go">&#39;fiftyTwoWeekRange&#39;: &#39;118.86 - 182.94&#39;,</span>
<span class="go">&#39;fiftyTwoWeekHighChange&#39;: -12.650009,</span>
<span class="go">&#39;fiftyTwoWeekHighChangePercent&#39;: -0.06914841,</span>
<span class="go">&#39;fiftyTwoWeekLow&#39;: 118.86,</span>
<span class="go">&#39;fiftyTwoWeekHigh&#39;: 182.94,</span>
<span class="go">&#39;dividendDate&#39;: 1644451200,</span>
<span class="go">&#39;earningsTimestamp&#39;: 1643301000,</span>
<span class="go">&#39;earningsTimestampStart&#39;: 1651003200,</span>
<span class="go">&#39;earningsTimestampEnd&#39;: 1651521600,</span>
<span class="go">&#39;trailingAnnualDividendRate&#39;: 0.865,</span>
<span class="go">&#39;trailingPE&#39;: 28.310888,</span>
<span class="go">&#39;trailingAnnualDividendYield&#39;: 0.0051238,</span>
<span class="go">&#39;epsTrailingTwelveMonths&#39;: 6.015,</span>
<span class="go">&#39;epsForward&#39;: 6.56,</span>
<span class="go">&#39;epsCurrentYear&#39;: 6.16,</span>
<span class="go">&#39;priceEpsCurrentYear&#39;: 27.64448,</span>
<span class="go">&#39;sharesOutstanding&#39;: 16319399936,</span>
<span class="go">&#39;bookValue&#39;: 4.402,</span>
<span class="go">&#39;fiftyDayAverage&#39;: 166.388,</span>
<span class="go">&#39;fiftyDayAverageChange&#39;: 3.9019928,</span>
<span class="go">&#39;fiftyDayAverageChangePercent&#39;: 0.023451166,</span>
<span class="go">&#39;twoHundredDayAverage&#39;: 154.8563,</span>
<span class="go">&#39;twoHundredDayAverageChange&#39;: 15.433701,</span>
<span class="go">&#39;twoHundredDayAverageChangePercent&#39;: 0.099664666,</span>
<span class="go">&#39;marketCap&#39;: 2779030487040,</span>
<span class="go">&#39;forwardPE&#39;: 25.958841,</span>
<span class="go">&#39;priceToBook&#39;: 38.68469,</span>
<span class="go">&#39;sourceInterval&#39;: 15,</span>
<span class="go">&#39;exchangeDataDelayedBy&#39;: 0,</span>
<span class="go">&#39;firstTradeDateMilliseconds&#39;: 345479400000,</span>
<span class="go">&#39;priceHint&#39;: 2,</span>
<span class="go">&#39;regularMarketChange&#39;: 1.469986,</span>
<span class="go">&#39;regularMarketChangePercent&#39;: 0.87074155,</span>
<span class="go">&#39;regularMarketTime&#39;: 1648046328,</span>
<span class="go">&#39;regularMarketPrice&#39;: 170.29,</span>
<span class="go">&#39;regularMarketDayHigh&#39;: 170.76,</span>
<span class="go">&#39;regularMarketDayRange&#39;: &#39;167.65 - 170.76&#39;,</span>
<span class="go">&#39;regularMarketDayLow&#39;: 167.65,</span>
<span class="go">&#39;regularMarketVolume&#39;: 24929352,</span>
<span class="go">&#39;regularMarketPreviousClose&#39;: 168.82,</span>
<span class="go">&#39;bid&#39;: 170.08,</span>
<span class="go">&#39;ask&#39;: 170.13,</span>
<span class="go">&#39;bidSize&#39;: 12,</span>
<span class="go">&#39;askSize&#39;: 8,</span>
<span class="go">&#39;marketState&#39;: &#39;REGULAR&#39;,</span>
<span class="go">&#39;pageViewGrowthWeekly&#39;: -0.10239728,</span>
<span class="go">&#39;averageAnalystRating&#39;: &#39;1.8 - Buy&#39;,</span>
<span class="go">&#39;tradeable&#39;: False,</span>
<span class="go">&#39;displayName&#39;: &#39;Apple&#39;}</span>
</pre></div>
</div>
</section>
<section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h1>
</section>
<section id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="yfinhanced.YFClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">yfinhanced.</span></span><span class="sig-name descname"><span class="pre">YFClient</span></span><a class="headerlink" href="#yfinhanced.YFClient" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="yfinhanced.YFClient.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yfinhanced.YFClient.connect" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) – The maximum number of simultaneously open connections. If none
then there is no maximum limit</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yfinhanced.YFClient.disconnect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yfinhanced.YFClient.disconnect" title="Permalink to this definition"></a></dt>
<dd><p>close the client session</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yfinhanced.YFClient.get_price_history">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_price_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yfinhanced.YFClient.get_price_history" title="Permalink to this definition"></a></dt>
<dd><p>interval: 1m, 2m, 5m, 15m, 30m, 60m, 90m, 1h, 1h, 1d, 5d, 1wk, 1mo, 3mo
adjust can only work for intraday
todo: workout what adjustment intraday actually does do (find a symbol that has recent one)
volume seems to only populate in normal market hours
start and end must be datetimes with timezones</p>
<p>if a ticker isn’t found, it won’t be returned in the data set
if no tickers are found; empty dataset is returned</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yfinhanced.YFClient.get_quote">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yfinhanced.YFClient.get_quote" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> (<em>str</em><em> | </em><em>list</em>) – The yahoo finance symbols to get data for</p></li>
<li><p><strong>fields</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>list</em><em>]</em><em>]</em>) – The yahoo finance fields to get data for. If not specified, it
will return all available fields for the given instrument</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary where the keys are the symbols, and the values are a dictionary
of key value pairs for each field.
Note: Even when a subset of fields is specified - the yahoo finance
API will always return certain fields (i.e. timestamp, symbol)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yfinhanced.YFClient.get_trending">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_trending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['us',</span> <span class="pre">'gb']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yfinhanced.YFClient.get_trending" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>regions</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – which country to get trending tickers from</p></li>
<li><p><strong>count</strong> (<em>int</em>) – how many tickers to retrieve</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with keys as regions, and values as lists of symbols</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Milo Elliott.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>